{"ast":null,"code":"var _jsxFileName = \"/home/ekanthsai/Desktop/Stock_Recommender/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport ChartComponent from \"./ChartComponent\";\nimport { connectWS } from \"./socket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [ticker, setTicker] = useState(\"INFY.NS\");\n  const [dataPoints, setDataPoints] = useState([]);\n  const [prediction, setPrediction] = useState(null);\n  const wsRef = useRef(null);\n  useEffect(() => {\n    wsRef.current = connectWS(ticker);\n    const ws = wsRef.current;\n    ws.onopen = () => console.log(\"WS opened\");\n    ws.onmessage = ev => {\n      const msg = JSON.parse(ev.data);\n      const ts = msg.timestamp;\n      const price = msg.close;\n      setDataPoints(prev => {\n        const next = [...prev, {\n          ts,\n          value: price\n        }];\n        return next.slice(-200);\n      });\n      setPrediction({\n        pred: msg.prediction,\n        conf: msg.confidence,\n        probs: msg.probs\n      });\n    };\n    ws.onclose = () => console.log(\"WS closed\");\n    return () => {\n      if (ws) ws.close();\n    };\n  }, [ticker]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Live Stock Recommender (\", ticker, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"800px\",\n        height: \"400px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(ChartComponent, {\n        dataPoints: dataPoints\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Recommendation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), prediction ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: prediction.pred\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), \" (conf: \", (prediction.conf * 100).toFixed(1), \"%)\", /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: JSON.stringify(prediction.probs, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No prediction yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Xpq2NARluT8v3GW6VObIL70cNMQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","ChartComponent","connectWS","jsxDEV","_jsxDEV","App","_s","ticker","setTicker","dataPoints","setDataPoints","prediction","setPrediction","wsRef","current","ws","onopen","console","log","onmessage","ev","msg","JSON","parse","data","ts","timestamp","price","close","prev","next","value","slice","pred","conf","confidence","probs","onclose","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","width","height","marginTop","toFixed","stringify","_c","$RefreshReg$"],"sources":["/home/ekanthsai/Desktop/Stock_Recommender/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport ChartComponent from \"./ChartComponent\";\nimport { connectWS } from \"./socket\";\n\nfunction App() {\n    const [ticker, setTicker] = useState(\"INFY.NS\");\n    const [dataPoints, setDataPoints] = useState([]);\n    const [prediction, setPrediction] = useState(null);\n    const wsRef = useRef(null);\n\n    useEffect(() => {\n    wsRef.current = connectWS(ticker);\n    const ws = wsRef.current;\n        ws.onopen = () => console.log(\"WS opened\");\n        \n    ws.onmessage = (ev) => {\n    const msg = JSON.parse(ev.data);\n    const ts = msg.timestamp;\n    const price = msg.close;\n    setDataPoints(prev => {\n        const next = [...prev, { ts, value: price }];\n        return next.slice(-200); \n    });\n    setPrediction({ pred: msg.prediction, conf: msg.confidence, probs: msg.probs });\n    };\n    ws.onclose = () => console.log(\"WS closed\");\n    return () => {\n        if (ws) ws.close();\n    };\n    }, [ticker]);\n\n    return (\n    <div style={{ padding: 20 }}>\n        <h2>Live Stock Recommender ({ticker})</h2>\n        <div style={{ width: \"800px\", height: \"400px\" }}>\n            <ChartComponent dataPoints={dataPoints} />\n        </div>\n        <div style={{ marginTop: 20 }}>\n            <h3>Recommendation</h3>\n            {prediction ? (\n            <div>\n                <strong>{prediction.pred}</strong> (conf: {(prediction.conf*100).toFixed(1)}%)\n                <pre>{JSON.stringify(prediction.probs, null, 2)}</pre>\n            </div>\n        ) : <div>No prediction yet</div>}\n        </div>\n    </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}